p8105\_hw2\_ja3314
================
Jaisal Amin

Problem 1
---------

``` r
transit_df = read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  select(line, station_name, station_latitude, station_longitude, entry, vending, entrance_type, ada, starts_with("route")) %>% 
  mutate(entry = recode(entry, `YES` = "TRUE", `NO` = "FALSE"))
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_integer(),
    ##   Route9 = col_integer(),
    ##   Route10 = col_integer(),
    ##   Route11 = col_integer(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

This dataset contains information on different lines and stations in the NYC transit system. The variables it contains range from station name and location to various aspects of the station such as type of entrance and whether or not is is ADA compliant and the subway routes that run through the station. To tidy this data, I first read in the CSV file then cleaned the names. After this step I selected the variables I was interested in and then converted the entry column from character to logical. This data frame's dimensions are \[1868, 19\].

**Number of distinct stations:**

``` r
nrow(distinct(transit_df, station_name, line))
```

    ## [1] 465

**Number of ADA compliant stations:**

``` r
ada_df = select(transit_df, line, station_name, ada) %>% 
  distinct(station_name, line, .keep_all = TRUE)

table(ada_df[["ada"]])["TRUE"]
```

    ## TRUE 
    ##   84

**Proportion of station entrances/exits without vending that allow entry:**

``` r
no_vending_df = select(transit_df, line, station_name, vending, entry) %>% 
  filter(vending == "NO")

den = nrow(no_vending_df)
num = table(no_vending_df[["entry"]])["TRUE"]

num/den
```

    ##      TRUE 
    ## 0.3770492

**Reformatting data so that route number and route name are distinct variables:**

``` r
route_transit_df = gather(transit_df, key = route_number, value = route_name, route1:route11)
```

**Number of distinct stations that serve the A train:**

``` r
route_df = select(route_transit_df, line, station_name, ada, route_number, route_name) %>% 
  distinct(station_name, line, route_name, .keep_all = TRUE)

table(route_df[["route_name"]])["A"]
```

    ##  A 
    ## 60

**Number of A train stations that are ADA compliant:**

``` r
filter(route_df, route_name == "A") %>% 
  filter(ada == "TRUE") %>% 
  nrow()
```

    ## [1] 17
